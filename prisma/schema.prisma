generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Projeto {
  id               String           @id @default(uuid()) @db.VarChar(36)
  ano              String
  numero_pl        String           @unique
  pauta            String
  justificativa    String
  ementa           String
  ambitoId         String
  pautaId          String
  Ambito           Ambito           @relation(fields: [ambitoId], references: [id])
  Pauta            Pauta            @relation(fields: [pautaId], references: [id])
  direitosViolados DireitoViolado[] @relation("DireitoVioladoToProjeto")
  ideologias       Ideologia[]      @relation("IdeologiaToProjeto")
  partidos         Partido[]        @relation("PartidoToProjeto")
  autores          Politico[]       @relation("ProjetoAutores")
}

model Politico {
  id             String      @id @default(uuid()) @db.VarChar(36)
  nome           String
  foto           String?
  sexo           String
  raca           String
  religiao       String
  ideologia      String
  dataNascimento DateTime
  estadoId       String
  partidoId      String
  estado         Estado      @relation(fields: [estadoId], references: [id])
  partido        Partido     @relation(fields: [partidoId], references: [id])
  profissoes     Profissao[] @relation("PoliticoToProfissao")
  projetos       Projeto[]   @relation("ProjetoAutores")
}

model Partido {
  id        String     @id @default(uuid()) @db.VarChar(36)
  nome      String     @unique
  codigo    String     @unique
  politicos Politico[]
  projetos  Projeto[]  @relation("PartidoToProjeto")
}

model Estado {
  id        String     @id @default(uuid()) @db.VarChar(36)
  nome      String     @unique
  politicos Politico[]
}

model DireitoViolado {
  id       String    @id @default(uuid()) @db.VarChar(36)
  nome     String    @unique
  projetos Projeto[] @relation("DireitoVioladoToProjeto")
}

model Ideologia {
  id       String    @id @default(uuid()) @db.VarChar(36)
  nome     String
  projetos Projeto[] @relation("IdeologiaToProjeto")
}

model Profissao {
  id        String     @id @default(uuid()) @db.VarChar(36)
  nome      String     @unique
  politicos Politico[] @relation("PoliticoToProfissao")
}

model Ambito {
  id      String    @id @db.VarChar(36)
  nome    String
  Projeto Projeto[]
}

model Pauta {
  id      String    @id @db.VarChar(36)
  nome    String    @unique
  Projeto Projeto[]
}
